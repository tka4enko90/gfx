!function(e){var t=e("body"),i=e("body > .wrapper"),r=e(".header"),d=e(".product-card-open-pop-out");d.length&&d.on("click",(function(){var d=e(".product-pop-out"),o=JSON.parse(e(this).attr("data-product-pop-out")),a=d.find(".product-trailer-video-holder"),n=d.find(".buttons-holder"),l=n.find("a.add_to_cart_button"),p=n.find("a.more-info-link"),c=d.find(".product-title"),s=d.find(".product-category"),v=d.find(".compatible-with"),u=d.find(".previews-holder");if(function(e){var t=e.find(".product-trailer-video-holder"),i=e.find(".previews-holder"),r=e.find("a.add_to_cart_button"),d=e.find("a.more-info-link"),o=e.find(".product-title"),a=e.find(".product-category"),n=e.find(".buttons-holder"),l=e.find(".compatible-with");t.remove(),n.removeClass("product-trailer-visible"),i.html(""),r.attr("href","").attr("data-product_id","").attr("data-product_sku","").html(""),d.attr("href",""),o.text(""),a.text(""),l.html("")}(d),o&&!d.is(":visible")){var h=window.innerWidth-t.width();h&&r.length&&d.length&&(r.css("width","calc(100% - "+h+"px)"),t.css("width","calc(100% - "+h+"px)")),t.length&&t.css("overflow","hidden"),o.product_trailer&&(n.length&&(e(window).width(),n.before('<div class="product-trailer product-trailer-video-holder"><video playsinline autoPlay="autoplay" loop="loop" muted="muted">\n                <source src="'+o.product_trailer.url+'" type="'+o.product_trailer.mime_type+'">\n            </video></div>')),a.find("video").load(),n.addClass("product-trailer-visible")),o.product_price&&l.length&&o.product_add_to_cart_url&&o.product_id&&o.product_title&&(l.attr("href",o.product_add_to_cart_url),l.attr("data-product_id",o.product_id),l.attr("data-product_title",o.product_title),l.html("Add to cart - "+o.product_price),o.product_sku&&l.attr("data-product_sku",o.product_sku)),o.product_permalink&&p.length&&p.attr("href",o.product_permalink),o.product_title&&c.length&&c.text(o.product_title),o.product_category&&s.length&&s.text(o.product_category),o.compatible_with&&v.length&&(v.append('<div class="title">Compatible With</div>'),e(o.compatible_with).each((function(e){var t=o.compatible_with[e].icon,i=o.compatible_with[e].name;0===e?v.append('<div class="items"><div class="item">\n                        <img src="'+t+'" alt="">\n<span class="name">'+i+"</span>\n                    </div></div>"):v.find(".items").append('<div class="item">\n                        <img src="'+t+'" alt="">\n<span class="name">'+i+"</span>\n                    </div>")}))),o.assets_preview&&u.length&&(u.append('<div class="preview assets-preview">\n                            <div class="preview-name">Assets Preview:</div>\n                            <div class="video-holder">\n                                <video class="pop-out-video" >\n                                    <source src="'+o.assets_preview.url+'"\n                                            >\n                                </video>\n                            </div>\n                        </div>'),u.find(".assets-preview video")[0].load()),o.alert_preview&&u.length&&(u.append('<div class="preview alert-preview">\n                            <div class="preview-name">Alert Preview:</div>\n                            <div class="video-holder">\n                                <video class="pop-out-video">\n                                    <source src="'+o.alert_preview.url+'">\n                                </video>\n                            </div>\n                        </div>'),u.find(".alert-preview video")[0].load()),o.screen_preview&&u.length&&(u.append('<div class="preview screen-preview">\n                            <div class="preview-name">Screen Preview:</div>\n                            <div class="video-holder">\n                                <video class="pop-out-video" loop="loop" muted="muted" playsinline>\n                                    <source src="'+o.screen_preview.url+'"\n                                            type="'+o.screen_preview.mime_type+'">\n                                </video>\n                            </div>\n                        </div>'),u.find(".screen-preview video")[0].load()),i.addClass("is-blurred"),d.fadeIn(200).css("display","flex")}}));var o=e(".product-pop-out-close-btn");o.length&&o.on("click",(function(){var d=e(this).closest(".product-pop-out");d.length&&(i.removeClass("is-blurred"),d.fadeOut(200),setTimeout((function(){r.length&&t.length&&(r.css("width","100%"),t.css("width","100%"),t.css("overflow","auto"))}),200))})),e(document).mouseup((function(t){var i=e(".product-pop-out .popup");if(i.length&&i.is(":visible")&&!i.is(t.target)&&0===i.has(t.target).length){var r=i.find(".product-pop-out-close-btn");r.length&&r.trigger("click")}}));var a=e(".previews-holder");a.length&&a.on("click",".pop-out-video",(function(){var t=e(".product-trailer-video-holder"),i=e(this).clone().prop("autoplay","autoplay").attr("playsinline","");t.length&&i.length&&(t.find("video").remove(),t.append(i))}))}(jQuery);