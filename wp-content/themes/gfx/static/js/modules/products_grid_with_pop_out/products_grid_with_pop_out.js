!function(e){var t=e("body"),i=e(".header"),d=e(".product-card-open-pop-out");d.length&&d.on("click",(function(){var d=e(this).closest(".products-grid-with-pop-out").find(".product-pop-out"),r=JSON.parse(e(this).attr("data-product-pop-out")),o=d.find(".product-trailer-video-holder"),n=d.find(".buttons-holder"),a=n.find("a.add_to_cart_button"),p=n.find("a.more-info-link"),l=d.find(".product-title"),c=d.find(".product-category"),s=d.find(".compatible-with"),u=d.find(".previews-holder");if(function(e){var t=e.find(".product-trailer-video-holder"),i=e.find(".previews-holder"),d=e.find("a.add_to_cart_button"),r=e.find("a.more-info-link"),o=e.find(".product-title"),n=e.find(".product-category"),a=e.find(".buttons-holder"),p=e.find(".compatible-with");t.remove(),a.removeClass("product-trailer-visible"),i.html(""),d.attr("href","").attr("data-product_id","").attr("data-product_sku","").html(""),r.attr("href",""),o.text(""),n.text(""),p.html("")}(d),r&&!d.is(":visible")){var v=window.innerWidth-t.width();v&&i.length&&d.length&&(i.css("width","calc(100% - "+v+"px)"),t.css("width","calc(100% - "+v+"px)")),t.length&&t.css("overflow","hidden"),r.product_trailer&&(n.length&&(e(window).width(),n.before('<div class="product-trailer product-trailer-video-holder"><video playsinline autoPlay="autoplay" loop="loop" muted="muted">\n                <source src="'+r.product_trailer.url+'" type="'+r.product_trailer.mime_type+'">\n            </video></div>')),o.find("video").load(),n.addClass("product-trailer-visible")),r.product_price&&a.length&&r.product_add_to_cart_url&&r.product_id&&r.product_title&&(a.attr("href",r.product_add_to_cart_url),a.attr("data-product_id",r.product_id),a.attr("data-product_title",r.product_title),a.html("Add to cart - "+r.product_price),r.product_sku&&a.attr("data-product_sku",r.product_sku)),r.product_permalink&&p.length&&p.attr("href",r.product_permalink),r.product_title&&l.length&&l.text(r.product_title),r.product_category&&c.length&&c.text(r.product_category),r.compatible_with&&s.length&&(s.append('<div class="title">Compatible With</div>'),e(r.compatible_with).each((function(e){var t=r.compatible_with[e].icon,i=r.compatible_with[e].name;0===e?s.append('<div class="items"><div class="item">\n                        <img src="'+t+'" alt="">\n<span class="name">'+i+"</span>\n                    </div></div>"):s.find(".items").append('<div class="item">\n                        <img src="'+t+'" alt="">\n<span class="name">'+i+"</span>\n                    </div>")}))),r.assets_preview&&u.length&&(u.append('<div class="preview assets-preview">\n                            <div class="preview-name">Assets Preview:</div>\n                            <div class="video-holder">\n                                <video class="pop-out-video" >\n                                    <source src="'+r.assets_preview.url+'"\n                                            >\n                                </video>\n                            </div>\n                        </div>'),u.find(".assets-preview video")[0].load()),r.alert_preview&&u.length&&(u.append('<div class="preview alert-preview">\n                            <div class="preview-name">Alert Preview:</div>\n                            <div class="video-holder">\n                                <video class="pop-out-video">\n                                    <source src="'+r.alert_preview.url+'">\n                                </video>\n                            </div>\n                        </div>'),u.find(".alert-preview video")[0].load()),r.screen_preview&&u.length&&(u.append('<div class="preview screen-preview">\n                            <div class="preview-name">Screen Preview:</div>\n                            <div class="video-holder">\n                                <video class="pop-out-video" loop="loop" muted="muted" playsinline>\n                                    <source src="'+r.screen_preview.url+'"\n                                            type="'+r.screen_preview.mime_type+'">\n                                </video>\n                            </div>\n                        </div>'),u.find(".screen-preview video")[0].load()),d.fadeIn(200).css("display","flex")}}));var r=e(".product-pop-out-close-btn");r.length&&r.on("click",(function(){var d=e(this).closest(".product-pop-out");d.length&&(d.fadeOut(200),setTimeout((function(){i.length&&t.length&&(i.css("width","100%"),t.css("width","100%"),t.css("overflow","auto"))}),200))})),e(document).mouseup((function(t){var i=e(".product-pop-out .popup");if(i.length&&i.is(":visible")&&!i.is(t.target)&&0===i.has(t.target).length){var d=i.find(".product-pop-out-close-btn");d.length&&d.trigger("click")}}));var o=e(".previews-holder");o.length&&o.on("click",".pop-out-video",(function(){var t=e(".product-trailer-video-holder"),i=e(this).clone().prop("autoplay","autoplay").attr("playsinline","");t.length&&i.length&&(t.find("video").remove(),t.append(i))}))}(jQuery);