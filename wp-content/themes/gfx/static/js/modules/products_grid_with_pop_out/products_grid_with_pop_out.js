!function(e){var t=e("body"),r=e("body > .wrapper"),i=e(".header"),o=e(".product-card-open-pop-out");o.length&&o.on("click",(function(){var o=e(".product-pop-out"),d=JSON.parse(e(this).attr("data-product-pop-out")),s=o.find(".product-trailer-video-holder"),p=o.find(".buttons-holder"),a=p.find("a.add_to_cart_button"),l=p.find("a.more-info-link"),c=o.find(".product-title"),n=o.find(".product-category"),v=o.find(".compatible-with"),u=o.find(".previews-holder");if(function(e){var t=e.find(".product-trailer-video-holder"),r=e.find(".previews-holder"),i=e.find("a.add_to_cart_button"),o=e.find("a.more-info-link"),d=e.find(".product-title"),s=e.find(".product-category"),p=e.find(".buttons-holder"),a=e.find(".compatible-with");t.remove(),p.removeClass("product-trailer-visible"),r.html(""),i.attr("href","").attr("data-product_id","").attr("data-product_sku","").html(""),o.attr("href",""),d.text(""),s.text(""),a.html("")}(o),d&&!o.is(":visible")){var h=window.innerWidth-t.width();if(h&&i.length&&o.length&&(i.css("width","calc(100% - "+h+"px)"),t.css("width","calc(100% - "+h+"px)")),t.length&&t.css("overflow","hidden"),d.product_trailer&&(p.length&&(e(window).width(),p.before('<div class="product-trailer product-trailer-video-holder"><video playsinline autoPlay="autoplay" loop="loop" muted="muted">\n                <source src="'+d.product_trailer.url+'" type="'+d.product_trailer.mime_type+'">\n            </video></div>')),s.find("video").load(),p.addClass("product-trailer-visible")),d.product_price&&a.length&&d.product_add_to_cart_url&&d.product_id&&d.product_title&&(a.attr("href",d.product_add_to_cart_url),a.attr("data-product_id",d.product_id),a.attr("data-product_title",d.product_title),a.html("Add to cart - "+d.product_price),d.product_sku&&a.attr("data-product_sku",d.product_sku)),d.product_permalink&&l.length&&l.attr("href",d.product_permalink),d.product_title&&c.length&&c.text(d.product_title),d.product_category&&n.length&&n.text(d.product_category),d.compatible_with&&v.length&&(v.append('<div class="title">Compatible With</div>'),e(d.compatible_with).each((function(e){var t=d.compatible_with[e].icon;d.compatible_with[e].name;0===e?v.append('<div class="items"><div class="item">\n                        <img src="'+t+'" alt="">\n                    </div></div>'):v.find(".items").append('<div class="item">\n                        <img src="'+t+'" alt="">\n                    </div>')}))),d.assets_preview&&u.length){var _="";_=d.assets_preview_poster?'<video class="pop-out-video" poster="'+d.assets_preview_poster+'">\n <source src="'+d.assets_preview.url+'">\n</video>':'<video class="pop-out-video">\n <source src="'+d.assets_preview.url+'">\n</video>',u.append('<div class="preview assets-preview">\n                            <div class="preview-name">Assets Preview:</div>\n                            <div class="video-holder">'+_+"</div>\n                        </div>"),u.find(".assets-preview video")[0].load()}if(d.alert_preview&&u.length){_="";_=d.alert_preview_poster?'<video class="pop-out-video" poster="'+d.alert_preview_poster+'">\n <source src="'+d.alert_preview.url+'">\n</video>':'<video class="pop-out-video">\n <source src="'+d.alert_preview.url+'">\n</video>',u.append('<div class="preview alert-preview">\n                            <div class="preview-name">Alert Preview:</div>\n                            <div class="video-holder">'+_+"</div>\n                        </div>"),u.find(".alert-preview video")[0].load()}if(d.screen_preview&&u.length){_="";_=d.screen_preview_poster?'<video class="pop-out-video" poster="'+d.screen_preview_poster+'">\n <source src="'+d.screen_preview.url+'">\n</video>':'<video class="pop-out-video">\n <source src="'+d.screen_preview.url+'">\n</video>',u.append('<div class="preview screen-preview">\n                            <div class="preview-name">Screen Preview:</div>\n                            <div class="video-holder">'+_+"</div>\n                        </div>"),u.find(".screen-preview video")[0].load()}r.addClass("is-blurred"),o.fadeIn(200).css("display","flex");var w=e(window).scrollTop();t.addClass("opened-modal"),t.css("top",`-${w}px`)}}));var d=e(".product-pop-out-close-btn");d.length&&d.on("click",(function(){var o=e(this).closest(".product-pop-out");if(o.length){r.removeClass("is-blurred");var d=t.css("top");t.removeClass("opened-modal"),t.css("top",""),window.scrollTo(0,-1*parseInt(d)),o.fadeOut(200),setTimeout((function(){i.length&&t.length&&(i.css("width","100%"),t.css("width","100%"),t.css("overflow","auto"))}),200)}})),e(document).mouseup((function(t){var r=e(".product-pop-out .popup");if(r.length&&r.is(":visible")&&!r.is(t.target)&&0===r.has(t.target).length){var i=r.find(".product-pop-out-close-btn");i.length&&i.trigger("click")}}));var s=e(".previews-holder");s.length&&s.on("click",".pop-out-video",(function(){var t=e(".product-trailer-video-holder"),r=e(this).clone().prop("autoplay","autoplay").attr("playsinline","").removeAttr("poster");t.length&&r.length&&(t.find("video").remove(),t.append(r))}))}(jQuery);